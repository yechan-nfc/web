<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=medium-dpi" />
    <title>숨 재생 페이지</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <style type="text/css">
        @font-face {
            font-family: 'BM HANNA Air';
            src: url(//cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2FBMHANNAAir.eot);
            src: url(//cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2FBMHANNAAir.eot?#iefix) format('embedded-opentype'),
                 url(//cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2FBMHANNAAir.woff2) format('woff2'),
                 url(//cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2FBMHANNAAir.woff) format('woff'),
                 url(//cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2FBMHANNAAir.ttf) format('truetype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }
    
        @font-face {
            font-family: 'BM HANNA 11yrs old';
            src: url(//cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2FBMHANNA11yrsold.eot);
            src: url(//cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2FBMHANNA11yrsold.eot?#iefix) format('embedded-opentype'),
                 url(//cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2FBMHANNA11yrsold.woff2) format('woff2'),
                 url(//cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2FBMHANNA11yrsold.woff) format('woff'),
                 url(//cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2FBMHANNA_11yrs_ttf.ttf) format('truetype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }
    
        html,
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            margin: 0;
            overflow: hidden;
        }
    
        #wrap {
            position: relative;
            max-width: 420px;
            min-width: 300px;
            max-height: 850px;
            min-height: 550px;
            width: 100%;
            height: 100%;
            background: rgba(108, 192, 186, 1);
        }

        #help {
			position:absolute;
            border:double;
			width:84%; 
            height:80%;
			margin:5%;
            z-index:1; 
            opacity: 0.9;
			visibility:hidden;
			background-color:white;
            padding: 3%;
            text-align: left;
		    font-family: 'BM HANNA Air';
		    font-style: normal;
		    font-weight: normal;
            font-size: 15px;
            border-radius: 12px;
        }
        
        #help img{
            margin: 2%;
            width: 15%;
            float: right;
        }

        #content {
            width: 100%;
            height: 90%;
            text-align: center;
        }

        #topMargin {
            height: 15%;
        }

        #listeningCondition {
            height: 5%;
            text-align: center;
		    font-family: 'BM HANNA 11yrs old';
		    font-size: 18px;
		    color: rgba(101,99,99,1);
        }

        #presentImg {
            height: 50%;
            opacity: 1;
        }

        #listeningButtonArea {
            height: 30%;
            text-align: center;
            visibility: visible;
        }

        #listeningButtonArea button {
            width: 50%;
            height: 20%;
            opacity: 0.8;
		    fill: rgba(255,255,255,1);
		    stroke: rgba(112,112,112,0.98);
		    stroke-width: 4px;
		    stroke-linejoin: miter;
		    stroke-linecap: butt;
		    stroke-miterlimit: 4;
		    shape-rendering: auto;
            text-align: center;
            font-family: 'BM HANNA 11yrs old';
            font-size: 15px;
		    color: rgba(0,0,0,1);
            border-radius: 12px;
        }

        #buttonArea {
            width: 100%;
            height: 10%;
        }

        #openHelpButton {
            position: absolute;
            visibility: visible;
            float: right;
            width: 25%;
            height: 6%;
            right: 7%;
            opacity: 0.8;
		    fill: rgba(255,255,255,1);
		    stroke: rgba(112,112,112,0.98);
		    stroke-width: 4px;
		    stroke-linejoin: miter;
		    stroke-linecap: butt;
		    stroke-miterlimit: 4;
		    shape-rendering: auto;
            text-align: center;
            font-family: 'BM HANNA 11yrs old';
            font-size: 15px;
		    color: rgba(0,0,0,1);
            border-radius: 12px;
        }

        #closeHelpButton {
            position: absolute;
            visibility: hidden;
            float: right;
            width: 25%;
            height: 6%;
            right: 7%;
            opacity: 0.8;
		    fill: rgba(255,255,255,1);
		    stroke: rgba(112,112,112,0.98);
		    stroke-width: 4px;
		    stroke-linejoin: miter;
		    stroke-linecap: butt;
		    stroke-miterlimit: 4;
		    shape-rendering: auto;
            text-align: center;
            font-family: 'BM HANNA 11yrs old';
            font-size: 15px;
		    color: rgba(0,0,0,1);
            border-radius: 12px;
        }
    </style>
</head>
<body>
    <div id="wrap">
        <div id="help">
			<a href="https://open.kakao.com/o/sbxoaoOc" target="_blank"><img src="https://cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2FKakaotalk_icon.jpg?v=1610126420090" alt="카카오톡 아이콘"></a>
			<p>아래에 적힌 내용 이외의 질문이 있으시면
            <br>카카오톡 1:1 문의로 연락 주세요 :)
            <br><br><br>Q1. 목소리를 저장할 수는 없나요?
            <br><br>A1. 녹음본 파일을 별도의 공간에 저장하는 것은 불가능하지만, 최초 재생 이후에는 인터넷 연결 없이도 nfc에 태그하기만 하면 언제든 목소리를 들을 수 있습니다 :)
            </p>
		</div>
        <div id="content">
            <div id="topMargin"></div>
            <div id="listeningCondition">
                <p id="listeningConditionWord">선물이 도착했습니다!</p>
            </div>
            <img id="presentImg" class="animationImg"
                src="https://cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2Fpresent.png?v=1611239039444" alt="선물 이미지">
            <script>
                const animationElement = document.querySelector('.animationImg');
                animationElement.classList.add('animate__animated', 'animate__jackInTheBox');
                animationElement.addEventListener('animationend', () => {
                    animationElement.classList.remove('animate__animated', 'animate__jackInTheBox');
                    animationElement.classList.add('animate__animated', 'animate__headShake', 'animate__slow','animate__infinite');
                });

                var wordElement = document.getElementById("listeningConditionWord");
                var audio = new Audio('https://cdn.glitch.com/e587798e-1d89-4773-8fcc-9fe58f9fb564%2Ftest_sound_file.oga');

                function startPlay() {
                    animationElement.classList.remove('animate__animated', 'animate__headShake', 'animate__slow','animate__infinite');
                    animationElement.classList.add('animate__animated', 'animate__pulse','animate__infinite');
                    document.all.playButton.style.visibility="hidden";
                    wordElement.innerText = "목소리가 재생되고 있습니다";
                    audio.play();
                }

                function endPlay() {
                    animationElement.classList.remove('animate__animated', 'animate__pulse','animate__infinite');
                    animationElement.classList.add('animate__animated', 'animate__headShake', 'animate__slow','animate__infinite');
                    wordElement.innerText = "NFC에 태그를 하시면\n언제든 목소리를 들어보실 수 있습니다.\n소중한 마음을 전달드릴 수 있어 기뻐요 :)";
                    wordElement.innerText.replace(/\n/g, '<br/>');
                    document.all.playButton.style.visibility="visible";
		        }
                
                audio.addEventListener('ended', function() { 
                    endPlay();
                }, false);
            </script>
            <div id="listeningButtonArea">
                <button id="playButton" style="visibility: visible;" onclick="startPlay();" value="PLAY">선물 온 목소리 들어보기</button>
            </div>
        </div>
        <div id="buttonArea">
            <button id="openHelpButton" onClick="openHelp()">도움말</button>
            <button id="closeHelpButton" onClick="closeHelp()">도움말 닫기</button>
        </div>
    </div>
    <script>
		function openHelp() {
            document.all.help.style.visibility="visible";
            document.all.openHelpButton.style.visibility="hidden";
            document.all.closeHelpButton.style.visibility="visible";
		}
		function closeHelp() {
            document.all.help.style.visibility="hidden";
            document.all.openHelpButton.style.visibility="visible";
            document.all.closeHelpButton.style.visibility="hidden";
		}
	</script>
</body>
</html>
